<project name="AntCompileTest" default="compile" basedir=".">
	<!-- mostly from: http://www.scala-lang.org/node/98 -->
	<property name="sources.dir" value="src" />
	<property name="scala-source.dir" value="main/scala" />
	<property name="scala-test.dir" value="main/test" />
	<property name="build.dir" value="classes" />
	<!-- set scala.home -->
	<property environment="env" />
	<property name="scala.home" value="${env.SCALA_HOME}" />
	<taskdef uri="antlib:org.jacoco.ant" resource="org/jacoco/ant/antlib.xml">
		<classpath path="${ant.home}/lib/jacocoant.jar"/>
	</taskdef>
	<target name="init">
  <property
    name="scala-library.jar"
    value="${scala.home}/lib/scala-library.jar"
     />
  <path id="build.classpath">
    <pathelement location="${scala-library.jar}"   />
    <!--<pathelement location="${your.path}"   />-->
    <pathelement location="${build.dir}"   />
  </path>
  <taskdef resource="scala/tools/ant/antlib.xml">
    <classpath>
      <pathelement location="${scala.home}/lib/scala-compiler.jar"   />
      <!-- NEW: For scala 2.10.2 you need scala-reflect: -->
      <pathelement location="${scala.home}/lib/scala-reflect.jar"   />
      <pathelement location="${scala-library.jar}"   />
    </classpath>
  </taskdef>
</target>

	<target name="compile" depends="init">
		<mkdir dir="${build.dir}" />
		<scalac srcdir="${sources.dir}"
destdir="${build.dir}"
classpathref="build.classpath"
deprecation="on">
			<include name="${scala-source.dir}/**/*.scala" />
			<exclude name="${scala-test.dir}/**/*.scala" />
		</scalac>
	</target>
</project>